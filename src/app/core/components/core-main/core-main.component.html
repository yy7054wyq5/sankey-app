<nz-layout class="core-main">
  <!-- 搜索栏 -->
  <app-search-bar #searchBar (outSearchResult)="getSearchResult($event)" (outSearchStatus)="getSearchStatus($event)"></app-search-bar>
  <section class="core-body">
    <!-- sider以模板变量的方式接收app-search-bar某些变量或整个对象 -->
    <app-sider [histories]="searchBar.records.data" [person]="person" [searchBar]="searchBar" (outFoldStatus)="siderFoldStatus($event)"></app-sider>
    <section class="core-content">
      <!-- 初始状态 -->
      <div *ngIf="initCore" class="status">
        <img src="/assets/images/init-status.png" alt="">
        <p>告诉我您是谁？你想找谁？</p>
        <p>我会帮您找到他哦</p>
      </div>
      <!-- 数据未找到 -->
      <div class="status" *ngIf="!initCore&&!option">
        <img src="/assets/images/not-found.png" alt="">
        <p style="margin-left: -1rem;">未找到合适信息哦</p>
      </div>
      <!-- 图表 -->
      <app-chart #chart *ngIf="option" [eoption]="option" [efullParentClassName]="'core-main'" (emouseover)="mouseoverChartEvent($event)" (eclick)="clickChartEvent($event)">
        <!-- 选择人脉 -->
        <app-check-node *ngIf="showCheckComponent" [tabs]="checkcontactsTab" placeholder="显示隐藏人脉" [top]="1.262626" [right]="20.525253" (outCheckedNodes)="getCheckedContacts($event)"></app-check-node>
        <!-- 选择隐藏节点 -->
        <app-check-node *ngIf="showCheckComponent" [tabs]="checknodesTab" placeholder="显示隐藏关系" [top]="1.262626" [right]="2.525253" (outCheckedNodes)="getCheckedNodes($event)"></app-check-node>
      </app-chart>
      <div class="hack" style="height: .606061rem"></div>
      <!-- 颜色盘 -->
      <ul class="chart-color-bar">
        <li style="margin-left: 1.616162rem;">
          <i [style]="'background-color:'+colorBar.person.bg | safeHtml:'style'"></i>
          <span>人物</span>
        </li>
        <li>
          <i [style]="'background-color:'+colorBar.case.bg | safeHtml:'style'"></i>
          <span>事件</span>
        </li>
        <li>
          <i [style]="'background-color:'+colorBar.organization.bg | safeHtml:'style'"></i>
          <span>公司</span>
        </li>
        <li>
          <i [style]="'background-color:'+colorBar.point.bg | safeHtml:'style'"></i>
          <span>起点/终点</span>
        </li>
      </ul>
      <div class="hack" style="height: .606061rem"></div>
    </section>
  </section>
</nz-layout>