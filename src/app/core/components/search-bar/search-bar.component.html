<form (submit)="search()">
  <!-- 选择起点 -->
  <nz-spin [nzSpinning]="startLoading">
    <nz-select class="start-point" [nzServerSearch]="true" [nzDropdownClassName]="'search-bar-select'" nzShowSearch nzAllowClear nzPlaceHolder="请输入您的姓名 或公司名称 或职务" [(ngModel)]="start" name="start" (ngModelChange)="selected($event, 'start')" (nzOpenChange)="open($event)">
      <ng-container *ngFor="let option of startOptions">
        <nz-option *ngIf="option['name']" nzLabel="{{option['name']}}&nbsp;{{option['company']}}&nbsp;{{lastOptionLable(option)}}" nzValue="{{option['p_id']}}" [nzCustomContent]="true">
          <div class="option-label" (click)="getStartAndEndData(option ,'start')">
            <span>{{option['name']}}</span>
            <span>{{option['company']}}</span>
            <span>{{lastOptionLable(option)}}</span>
          </div>
        </nz-option>
      </ng-container>
    </nz-select>
  </nz-spin>

  <!-- 选择终点 -->
  <nz-spin [nzSpinning]="endLoading">
    <nz-select class="end-point" [nzServerSearch]="true" [nzDropdownClassName]="'search-bar-select'" nzShowSearch nzAllowClear nzPlaceHolder="请输入对方的姓名 或公司名称 或职务" [(ngModel)]="end" name="end" (ngModelChange)="selected($event, 'end')" (nzOpenChange)="open($event)">
      <ng-container *ngFor="let option of endOptions">
        <nz-option *ngIf="option['name']" nzLabel="{{option['name']}}&nbsp;{{option['company']}}&nbsp;{{lastOptionLable(option)}}" nzValue="{{option['p_id']}}" [nzCustomContent]="true">
          <div class="option-label" (click)="getStartAndEndData(option ,'end')">
            <span>{{option['name']}}</span>
            <span>{{option['company']}}</span>
            <span>{{lastOptionLable(option)}}</span>
          </div>
        </nz-option>
      </ng-container>

    </nz-select>
  </nz-spin>

  <!-- 匹配 -->
  <button nz-button [nzType]="'primary'" type="submit">智配关系</button>
  <!-- 引导 -->
  <div class="search-tips">
    <img src="/assets/images/arrow-guide.png" alt="">
    <div>请输入您的关键字，以“空格”隔开</div>
  </div>
</form>